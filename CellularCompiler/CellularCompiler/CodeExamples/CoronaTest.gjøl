GRID
{
   x: 64;
   y: 64;
}

STATES dead, alive
{
   
}

INITIAL
{
  
}

RULES
{
   count = 0;
   r = -1;
   while (r < 2)
   {
      c = -1;
      while (c < 2)
      {
         match (grid[.x+r, .y+c], r, c)
         {
            [alive, 0, 0]
            {}
            [alive, _, _]
               count = count + 1;
         }
         c = c + 1;
      }
      r = r + 1;
   }

   match (.state, count)
   {
      [alive, 2 -> 3]
         return alive;
      [dead, 3]
         return alive;
      [_, _]
         return dead;
   }
}